<div class="container mt-4">
  <div class="row">
    <div class="col-md-8 offset-md-2">
      <!-- Buscador -->
      <div class="input-group mb-3">
        <input
          type="text"
          class="form-control"
          placeholder="Buscar empleados"
          [(ngModel)]="filtroBusqueda"
          aria-label="Buscar empleados"
          aria-describedby="basic-addon2"
        />
        <div class="input-group-append">
          <button
            class="btn btn-warning"
            type="button"
            (click)="aplicarFiltro()"
          >
            Buscar
          </button>
        </div>
      </div>

      <button class="btn btn-warning mb-3" (click)="crearEmpleado()">Nuevo Empleado</button>

      <div class="card">
        <div class="card-header">Listado de empleados</div>
        <ul class="list-group list-group-flush">
          <li class="list-group-item empleado-item" *ngFor="let empleado of empleadosFiltrados">
            <div class="card mb-3" [ngClass]="{'bg-success-subtle': empleado.activo === 1, 'bg-danger-subtle': empleado.activo !== 1}" (click)="seleccionarEmpleado(empleado)">
              <div class="card-body">
                <h3 class="card-title">
                  {{ empleado.nombre }} {{ empleado.apellidos }}
                </h3>
                <h4 class="card-text">
                  {{ empleado.num_empleado }}
                </h4>
                <h5 class="card-text">
                  Puesto: {{ empleado.puesto }}
                  {{empleado.imagen_empleado}}
                </h5>

                <br>
                <button class="btn btn-secondary mr-2" (click)="editarEmpleado(empleado)">Editar</button>
                <button class="btn btn-warning" (click)="activarDesactivarEmpleado(empleado)">{{ empleado.activo === 1 ? 'Dar de baja' : 'Dar de alta' }}</button>
              </div>
            </div>
          </li>
        </ul>
      </div>
      <br>

      <!-- PaginaciÃ³n -->
      <nav aria-label="Page navigation example">
        <ul class="pagination justify-content-center">
          <li class="page-item" [class.disabled]="paginaActual === 1">
            <a
              class="page-link"
              href="javascript:void(0)"
              (click)="cambiarPagina(paginaActual - 1)"
              >Anterior</a
            >
          </li>
          <li
            class="page-item"
            *ngFor="let num of [].constructor(totalPaginas); let i = index"
            [class.active]="paginaActual === i + 1"
          >
            <a
              class="page-link"
              href="javascript:void(0)"
              (click)="cambiarPagina(i + 1)"
              >{{ i + 1 }}</a
            >
          </li>
          <li
            class="page-item"
            [class.disabled]="paginaActual === totalPaginas"
          >
            <a
              class="page-link"
              href="javascript:void(0)"
              (click)="cambiarPagina(paginaActual + 1)"
              >Siguiente</a
            >
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>

